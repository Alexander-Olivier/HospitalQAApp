<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IOCN Quality Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { font-family: system-ui, -apple-system, sans-serif; }
    .card { background: white; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.12); }
    .tab-active { border-bottom: 2px solid #3b82f6; color: #3b82f6; }
    .badge { display: inline-flex; align-items: center; padding: 2px 8px; border-radius: 9999px; font-size: 12px; font-weight: 500; }
    .badge-good { background: #dcfce7; color: #166534; }
    .badge-acceptable { background: #dbeafe; color: #1e40af; }
    .badge-monitor { background: #fef9c3; color: #854d0e; }
    .badge-concern { background: #ffedd5; color: #c2410c; }
    .badge-critical { background: #fee2e2; color: #b91c1c; }
    .badge-unknown { background: #f3f4f6; color: #4b5563; }
    .badge-info { background: #f3f4f6; color: #374151; }
    .expandable { cursor: pointer; transition: box-shadow 0.2s; }
    .expandable:hover { box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
    .hidden { display: none; }
  </style>
</head>
<body class="bg-gray-50">
  
  <!-- Header -->
  <header class="bg-white border-b border-gray-200 sticky top-0 z-10">
    <div class="max-w-7xl mx-auto px-4 py-4">
      <h1 class="text-2xl font-bold text-gray-900">IOCN Quality Dashboard</h1>
      <p class="text-sm text-gray-500">Institutul Oncologic Prof. Dr. Ion Chiricu»õƒÉ Cluj-Napoca ‚Ä¢ 2020-2025 Data</p>
      <div class="mt-2 text-xs text-gray-400">
        LOS = Length of Stay | ICU = Intensive Care Unit (ATI) | MDT = Multidisciplinary Team | TNM = Tumor-Node-Metastasis staging
      </div>
    </div>
    <!-- Tabs -->
    <div class="max-w-7xl mx-auto px-4 flex gap-1 border-t">
      <button onclick="showTab('overview')" id="tab-overview" class="py-3 px-4 text-sm font-medium border-b-2 tab-active">Overview</button>
      <button onclick="showTab('pathway')" id="tab-pathway" class="py-3 px-4 text-sm font-medium border-b-2 border-transparent text-gray-500 hover:text-gray-700">Pathway</button>
      <button onclick="showTab('charts')" id="tab-charts" class="py-3 px-4 text-sm font-medium border-b-2 border-transparent text-gray-500 hover:text-gray-700">Charts</button>
      <button onclick="showTab('indicators')" id="tab-indicators" class="py-3 px-4 text-sm font-medium border-b-2 border-transparent text-gray-500 hover:text-gray-700">All Indicators</button>
    </div>
  </header>

  <main class="max-w-7xl mx-auto px-4 py-6">
    
    <!-- OVERVIEW TAB -->
    <div id="content-overview">
      <!-- Alerts -->
      <div class="grid md:grid-cols-2 gap-4 mb-6">
        <div class="card p-4 border-l-4 border-red-500">
          <h3 class="font-bold text-red-800 mb-2">üö® Critical Issues</h3>
          <ul class="text-sm text-gray-700 space-y-1">
            <li>‚Ä¢ <strong>Discharge outcomes</strong> not tracked - cannot measure mortality</li>
            <li>‚Ä¢ <strong>Surgery‚ÜíICU 85.2%</strong> needs clarification (protocol or complications?)</li>
            <li>‚Ä¢ <strong>No TNM staging</strong> - cannot risk-adjust outcomes</li>
          </ul>
        </div>
        <div class="card p-4 border-l-4 border-orange-500">
          <h3 class="font-bold text-orange-800 mb-2">‚ö° Areas of Concern</h3>
          <ul class="text-sm text-gray-700 space-y-1">
            <li>‚Ä¢ <strong>Treatment breaks 11.4%</strong> - 8,869 gaps >60 days</li>
            <li>‚Ä¢ <strong>Prolonged ICU 20.2%</strong> - above 15% target</li>
            <li>‚Ä¢ <strong>Physician continuity 46.5%</strong> - below 60% target</li>
          </ul>
        </div>
      </div>

      <!-- Key Metrics -->
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
        <div class="card p-4 text-center">
          <div class="text-3xl font-bold text-blue-600">97,271</div>
          <div class="text-sm text-gray-500">Total Cases</div>
        </div>
        <div class="card p-4 text-center">
          <div class="text-3xl font-bold text-green-600">19,635</div>
          <div class="text-sm text-gray-500">Unique Patients</div>
        </div>
        <div class="card p-4 text-center">
          <div class="text-3xl font-bold text-amber-600">11.29</div>
          <div class="text-sm text-gray-500">Mean LOS (days)</div>
        </div>
        <div class="card p-4 text-center">
          <div class="text-3xl font-bold text-purple-600">180</div>
          <div class="text-sm text-gray-500">Active Physicians</div>
        </div>
      </div>

      <!-- Charts -->
      <div class="grid md:grid-cols-2 gap-6">
        <div class="card p-4">
          <h3 class="font-bold text-gray-900 mb-4">Cancer Type Distribution</h3>
          <canvas id="cancerChart" height="250"></canvas>
        </div>
        <div class="card p-4">
          <h3 class="font-bold text-gray-900 mb-4">Monthly Case Volume (2024)</h3>
          <canvas id="monthlyChart" height="250"></canvas>
        </div>
      </div>
    </div>

    <!-- PATHWAY TAB -->
    <div id="content-pathway" class="hidden">
      <div class="card p-4 mb-6">
        <h3 class="font-bold text-gray-900 mb-4">Cancer Patient Pathway - Data Availability</h3>
        
        <!-- Visual pathway -->
        <div class="flex flex-wrap gap-2 mb-6 items-center">
          <div class="px-3 py-2 rounded-lg text-sm font-medium bg-red-100 text-red-800">‚ùå Referral</div>
          <span class="text-gray-300">‚Üí</span>
          <div class="px-3 py-2 rounded-lg text-sm font-medium bg-red-100 text-red-800">‚ùå Diagnosis</div>
          <span class="text-gray-300">‚Üí</span>
          <div class="px-3 py-2 rounded-lg text-sm font-medium bg-red-100 text-red-800">‚ùå MDT</div>
          <span class="text-gray-300">‚Üí</span>
          <div class="px-3 py-2 rounded-lg text-sm font-medium bg-red-100 text-red-800">‚ùå Decision</div>
          <span class="text-gray-300">‚Üí</span>
          <div class="px-3 py-2 rounded-lg text-sm font-medium bg-yellow-100 text-yellow-800">‚ö†Ô∏è Treatment</div>
          <span class="text-gray-300">‚Üí</span>
          <div class="px-3 py-2 rounded-lg text-sm font-medium bg-green-100 text-green-800">‚úì Inpatient</div>
          <span class="text-gray-300">‚Üí</span>
          <div class="px-3 py-2 rounded-lg text-sm font-medium bg-red-100 text-red-800">üö® Discharge</div>
          <span class="text-gray-300">‚Üí</span>
          <div class="px-3 py-2 rounded-lg text-sm font-medium bg-yellow-100 text-yellow-800">‚ö†Ô∏è Follow-up</div>
          <span class="text-gray-300">‚Üí</span>
          <div class="px-3 py-2 rounded-lg text-sm font-medium bg-red-100 text-red-800">üö® Survival</div>
        </div>

        <!-- Details grid -->
        <div class="grid md:grid-cols-3 gap-4">
          <div class="p-3 rounded-lg border border-red-200 bg-red-50">
            <div class="font-medium text-gray-900">1. Referral</div>
            <div class="text-sm text-gray-600 mt-1">‚ùå No referral data available</div>
          </div>
          <div class="p-3 rounded-lg border border-red-200 bg-red-50">
            <div class="font-medium text-gray-900">2. Diagnosis</div>
            <div class="text-sm text-gray-600 mt-1">‚ùå No TNM staging data</div>
          </div>
          <div class="p-3 rounded-lg border border-red-200 bg-red-50">
            <div class="font-medium text-gray-900">3. MDT Discussion</div>
            <div class="text-sm text-gray-600 mt-1">‚ùå No MDT/tumor board records</div>
          </div>
          <div class="p-3 rounded-lg border border-red-200 bg-red-50">
            <div class="font-medium text-gray-900">4. Treatment Decision</div>
            <div class="text-sm text-gray-600 mt-1">‚ùå No decision dates recorded</div>
          </div>
          <div class="p-3 rounded-lg border border-yellow-200 bg-yellow-50">
            <div class="font-medium text-gray-900">5. First Treatment</div>
            <div class="text-sm text-gray-600 mt-1">‚ö†Ô∏è Have procedures, cannot link to referral</div>
          </div>
          <div class="p-3 rounded-lg border border-green-200 bg-green-50">
            <div class="font-medium text-gray-900">6. Inpatient Care</div>
            <div class="text-sm text-gray-600 mt-1">‚úì LOS: 11.29 days, ICU data available</div>
          </div>
          <div class="p-3 rounded-lg border border-red-200 bg-red-50">
            <div class="font-medium text-gray-900">7. Discharge</div>
            <div class="text-sm text-gray-600 mt-1">üö® No outcome tracking (home/transfer/death)</div>
          </div>
          <div class="p-3 rounded-lg border border-yellow-200 bg-yellow-50">
            <div class="font-medium text-gray-900">8. Follow-up</div>
            <div class="text-sm text-gray-600 mt-1">‚ö†Ô∏è 11.4% have >60 day treatment breaks</div>
          </div>
          <div class="p-3 rounded-lg border border-red-200 bg-red-50">
            <div class="font-medium text-gray-900">9. Survival</div>
            <div class="text-sm text-gray-600 mt-1">üö® No mortality data available</div>
          </div>
        </div>
      </div>

      <!-- Summary -->
      <div class="card p-4">
        <h3 class="font-bold text-gray-900 mb-2">Summary</h3>
        <div class="grid md:grid-cols-2 gap-4 text-sm">
          <div>
            <div class="font-medium text-green-700 mb-1">‚úì CAN Measure</div>
            <ul class="text-gray-600 space-y-1">
              <li>‚Ä¢ Length of Stay, ICU utilization</li>
              <li>‚Ä¢ Treatment continuity, readmissions</li>
              <li>‚Ä¢ Case-mix, demographics, volume</li>
              <li>‚Ä¢ Physician workload, data quality</li>
            </ul>
          </div>
          <div>
            <div class="font-medium text-red-700 mb-1">‚ùå CANNOT Measure</div>
            <ul class="text-gray-600 space-y-1">
              <li>‚Ä¢ Referral-to-treatment time</li>
              <li>‚Ä¢ Mortality / survival rates</li>
              <li>‚Ä¢ Discharge outcomes</li>
              <li>‚Ä¢ TNM staging, MDT discussions</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- CHARTS TAB -->
    <div id="content-charts" class="hidden">
      <div class="grid md:grid-cols-2 gap-6 mb-6">
        <div class="card p-4">
          <h3 class="font-bold text-gray-900 mb-4">Cancer Type Distribution</h3>
          <canvas id="cancerChart2" height="300"></canvas>
          <div class="mt-2 text-xs text-gray-500 text-center">
            Breast: 24.5% | Cervical: 6.0% | Lung: 5.2% | Ovarian: 3.9% | Prostate: 3.8% | Rectal: 2.9% | Other: 53.7%
          </div>
        </div>
        <div class="card p-4">
          <h3 class="font-bold text-gray-900 mb-4">Inter-Visit Gap Distribution</h3>
          <canvas id="gapChart" height="300"></canvas>
          <div class="mt-2 text-xs text-center">
            <span class="text-green-600">‚óè Good (&lt;21d: 66.9%)</span>
            <span class="mx-2 text-yellow-600">‚óè Monitor (22-35d: 16.8%)</span>
            <span class="mx-2 text-orange-600">‚óè Concern (36-60d: 4.9%)</span>
            <span class="text-red-600">‚óè Critical (&gt;60d: 11.4%)</span>
          </div>
        </div>
      </div>
      <div class="card p-4">
        <h3 class="font-bold text-gray-900 mb-4">Monthly Case Volume Trend (2024)</h3>
        <canvas id="monthlyChart2" height="200"></canvas>
      </div>
    </div>

    <!-- INDICATORS TAB -->
    <div id="content-indicators" class="hidden">
      
      <!-- Volume & Activity -->
      <div class="card p-4 mb-6">
        <h3 class="font-bold text-lg mb-4 text-blue-600">Volume & Activity</h3>
        <div class="grid md:grid-cols-2 gap-4">
          <div class="card p-4 expandable border" onclick="toggleDetails(this)">
            <div class="flex justify-between items-start">
              <div>
                <div class="flex items-center gap-2 mb-1">
                  <span class="font-medium text-gray-900">Total Cases (Episodes)</span>
                  <span class="badge badge-info">‚Ñπ Info</span>
                </div>
                <div class="text-2xl font-bold text-gray-800">97,271</div>
              </div>
              <span class="text-gray-400 text-xl">+</span>
            </div>
            <div class="details hidden mt-4 pt-4 border-t border-gray-100 text-sm space-y-3">
              <div><div class="font-semibold text-gray-700 mb-1">üìñ What This Measures</div><div class="text-gray-600">Total count of patient care episodes during 2020-2025. Each episode = one complete patient encounter.</div></div>
              <div><div class="font-semibold text-gray-700 mb-1">üìä Benchmark</div><div class="text-gray-600">Volume metric. ~19,000 cases/year is substantial for specialized oncology institute.</div></div>
            </div>
          </div>
          <div class="card p-4 expandable border" onclick="toggleDetails(this)">
            <div class="flex justify-between items-start">
              <div>
                <div class="flex items-center gap-2 mb-1">
                  <span class="font-medium text-gray-900">Unique Patients</span>
                  <span class="badge badge-info">‚Ñπ Info</span>
                </div>
                <div class="text-2xl font-bold text-gray-800">19,635</div>
              </div>
              <span class="text-gray-400 text-xl">+</span>
            </div>
            <div class="details hidden mt-4 pt-4 border-t border-gray-100 text-sm space-y-3">
              <div><div class="font-semibold text-gray-700 mb-1">üìñ What This Measures</div><div class="text-gray-600">Distinct patients served. One patient with 5 visits = 1 unique patient.</div></div>
              <div><div class="font-semibold text-gray-700 mb-1">üìä Benchmark</div><div class="text-gray-600">4.95 visits per patient average - typical for chemotherapy cycles.</div></div>
            </div>
          </div>
          <div class="card p-4 expandable border" onclick="toggleDetails(this)">
            <div class="flex justify-between items-start">
              <div>
                <div class="flex items-center gap-2 mb-1">
                  <span class="font-medium text-gray-900">Procedures per Case</span>
                  <span class="badge badge-acceptable">‚óã Acceptable</span>
                </div>
                <div class="text-2xl font-bold text-gray-800">3.07</div>
              </div>
              <span class="text-gray-400 text-xl">+</span>
            </div>
            <div class="details hidden mt-4 pt-4 border-t border-gray-100 text-sm space-y-3">
              <div><div class="font-semibold text-gray-700 mb-1">üìñ What This Measures</div><div class="text-gray-600">Average procedures per patient episode. Clinical intensity indicator.</div></div>
              <div><div class="font-semibold text-gray-700 mb-1">üìä Benchmark</div><div class="text-gray-600">3.07 is reasonable for oncology treatment.</div></div>
            </div>
          </div>
          <div class="card p-4 expandable border" onclick="toggleDetails(this)">
            <div class="flex justify-between items-start">
              <div>
                <div class="flex items-center gap-2 mb-1">
                  <span class="font-medium text-gray-900">Active Physicians</span>
                  <span class="badge badge-info">‚Ñπ Info</span>
                </div>
                <div class="text-2xl font-bold text-gray-800">180</div>
              </div>
              <span class="text-gray-400 text-xl">+</span>
            </div>
            <div class="details hidden mt-4 pt-4 border-t border-gray-100 text-sm space-y-3">
              <div><div class="font-semibold text-gray-700 mb-1">üìñ What This Measures</div><div class="text-gray-600">Physicians who treated at least one patient in the reporting period.</div></div>
              <div><div class="font-semibold text-gray-700 mb-1">üìä Benchmark</div><div class="text-gray-600">~108 cases/physician/year average workload.</div></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Length of Stay -->
      <div class="card p-4 mb-6">
        <h3 class="font-bold text-lg mb-4 text-amber-600">Length of Stay (LOS)</h3>
        <div class="grid md:grid-cols-2 gap-4">
          <div class="card p-4 expandable border" onclick="toggleDetails(this)">
            <div class="flex justify-between items-start">
              <div>
                <div class="flex items-center gap-2 mb-1">
                  <span class="font-medium text-gray-900">Mean Inpatient LOS</span>
                  <span class="badge badge-acceptable">‚óã Acceptable</span>
                </div>
                <div class="text-2xl font-bold text-gray-800">11.29 days</div>
              </div>
              <span class="text-gray-400 text-xl">+</span>
            </div>
            <div class="details hidden mt-4 pt-4 border-t border-gray-100 text-sm space-y-3">
              <div><div class="font-semibold text-gray-700 mb-1">üìñ What This Measures</div><div class="text-gray-600">Average days from admission to discharge for inpatients.</div></div>
              <div><div class="font-semibold text-gray-700 mb-1">üìä Benchmark</div><div class="text-gray-600">OECD EU: 7-8 days general. Oncology surgery: 10-14 days. IOCN within acceptable range.</div></div>
            </div>
          </div>
          <div class="card p-4 expandable border" onclick="toggleDetails(this)">
            <div class="flex justify-between items-start">
              <div>
                <div class="flex items-center gap-2 mb-1">
                  <span class="font-medium text-gray-900">Extended Stay Rate (>14 days)</span>
                  <span class="badge badge-monitor">‚ö† Monitor</span>
                </div>
                <div class="text-2xl font-bold text-gray-800">24.4%</div>
              </div>
              <span class="text-gray-400 text-xl">+</span>
            </div>
            <div class="details hidden mt-4 pt-4 border-t border-gray-100 text-sm space-y-3">
              <div><div class="font-semibold text-gray-700 mb-1">üìñ What This Measures</div><div class="text-gray-600">Cases staying more than 14 days.</div></div>
              <div><div class="font-semibold text-gray-700 mb-1">üìä Benchmark</div><div class="text-gray-600">TARGET: &lt;20%. IOCN at 24.4% - slightly above, monitor for causes.</div></div>
            </div>
          </div>
        </div>
      </div>

      <!-- ICU -->
      <div class="card p-4 mb-6">
        <h3 class="font-bold text-lg mb-4 text-red-600">ICU / Critical Care (ATI)</h3>
        <div class="grid md:grid-cols-2 gap-4">
          <div class="card p-4 expandable border" onclick="toggleDetails(this)">
            <div class="flex justify-between items-start">
              <div>
                <div class="flex items-center gap-2 mb-1">
                  <span class="font-medium text-gray-900">Prolonged ICU Rate (>5 days)</span>
                  <span class="badge badge-concern">‚ö° Concern</span>
                </div>
                <div class="text-2xl font-bold text-gray-800">20.2%</div>
              </div>
              <span class="text-gray-400 text-xl">+</span>
            </div>
            <div class="details hidden mt-4 pt-4 border-t border-gray-100 text-sm space-y-3">
              <div><div class="font-semibold text-gray-700 mb-1">üìñ What This Measures</div><div class="text-gray-600">ICU stays exceeding 5 days - marker of complications.</div></div>
              <div><div class="font-semibold text-gray-700 mb-1">üìä Benchmark</div><div class="text-gray-600">TARGET: &lt;15%. IOCN at 20.2% - above target, investigate causes.</div></div>
            </div>
          </div>
          <div class="card p-4 expandable border" onclick="toggleDetails(this)">
            <div class="flex justify-between items-start">
              <div>
                <div class="flex items-center gap-2 mb-1">
                  <span class="font-medium text-gray-900">Surgery-to-ICU Transfer Rate</span>
                  <span class="badge badge-unknown">? Unknown</span>
                </div>
                <div class="text-2xl font-bold text-gray-800">85.2%</div>
              </div>
              <span class="text-gray-400 text-xl">+</span>
            </div>
            <div class="details hidden mt-4 pt-4 border-t border-gray-100 text-sm space-y-3">
              <div><div class="font-semibold text-gray-700 mb-1">üìñ What This Measures</div><div class="text-gray-600">Surgical cases transferred to ICU after operation.</div></div>
              <div><div class="font-semibold text-gray-700 mb-1">üìä Benchmark</div><div class="text-gray-600">‚ö†Ô∏è NEEDS CLARIFICATION: Is this protocol (routine post-op monitoring) or complications?</div></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Treatment Continuity -->
      <div class="card p-4 mb-6">
        <h3 class="font-bold text-lg mb-4 text-purple-600">Treatment Continuity</h3>
        <div class="grid md:grid-cols-2 gap-4">
          <div class="card p-4 expandable border" onclick="toggleDetails(this)">
            <div class="flex justify-between items-start">
              <div>
                <div class="flex items-center gap-2 mb-1">
                  <span class="font-medium text-gray-900">Treatment Break Rate (>60 days)</span>
                  <span class="badge badge-concern">‚ö° Concern</span>
                </div>
                <div class="text-2xl font-bold text-gray-800">11.4%</div>
              </div>
              <span class="text-gray-400 text-xl">+</span>
            </div>
            <div class="details hidden mt-4 pt-4 border-t border-gray-100 text-sm space-y-3">
              <div><div class="font-semibold text-gray-700 mb-1">üìñ What This Measures</div><div class="text-gray-600">Gaps exceeding 60 days between visits - may indicate lost to follow-up.</div></div>
              <div><div class="font-semibold text-gray-700 mb-1">üìä Benchmark</div><div class="text-gray-600">TARGET: &lt;10%. 8,869 gaps need investigation.</div></div>
            </div>
          </div>
          <div class="card p-4 expandable border" onclick="toggleDetails(this)">
            <div class="flex justify-between items-start">
              <div>
                <div class="flex items-center gap-2 mb-1">
                  <span class="font-medium text-gray-900">Physician Continuity</span>
                  <span class="badge badge-concern">‚ö° Concern</span>
                </div>
                <div class="text-2xl font-bold text-gray-800">46.5%</div>
              </div>
              <span class="text-gray-400 text-xl">+</span>
            </div>
            <div class="details hidden mt-4 pt-4 border-t border-gray-100 text-sm space-y-3">
              <div><div class="font-semibold text-gray-700 mb-1">üìñ What This Measures</div><div class="text-gray-600">Patients seeing same physician across all visits.</div></div>
              <div><div class="font-semibold text-gray-700 mb-1">üìä Benchmark</div><div class="text-gray-600">TARGET: &gt;60%. Half of patients see different physicians.</div></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Data Quality -->
      <div class="card p-4 mb-6">
        <h3 class="font-bold text-lg mb-4 text-gray-600">Data Quality & Gaps</h3>
        <div class="grid md:grid-cols-2 gap-4">
          <div class="card p-4 expandable border" onclick="toggleDetails(this)">
            <div class="flex justify-between items-start">
              <div>
                <div class="flex items-center gap-2 mb-1">
                  <span class="font-medium text-gray-900">Data Completeness</span>
                  <span class="badge badge-good">‚úì Good</span>
                </div>
                <div class="text-2xl font-bold text-gray-800">100%</div>
              </div>
              <span class="text-gray-400 text-xl">+</span>
            </div>
            <div class="details hidden mt-4 pt-4 border-t border-gray-100 text-sm space-y-3">
              <div><div class="font-semibold text-gray-700 mb-1">üìñ What This Measures</div><div class="text-gray-600">Records with all required fields (diagnosis, physician, dates).</div></div>
              <div><div class="font-semibold text-gray-700 mb-1">üìä Benchmark</div><div class="text-gray-600">Excellent data quality for available fields.</div></div>
            </div>
          </div>
          <div class="card p-4 expandable border" onclick="toggleDetails(this)">
            <div class="flex justify-between items-start">
              <div>
                <div class="flex items-center gap-2 mb-1">
                  <span class="font-medium text-gray-900">Discharge Outcome</span>
                  <span class="badge badge-critical">üö® Critical</span>
                </div>
                <div class="text-2xl font-bold text-red-600">‚ùå NOT AVAILABLE</div>
              </div>
              <span class="text-gray-400 text-xl">+</span>
            </div>
            <div class="details hidden mt-4 pt-4 border-t border-gray-100 text-sm space-y-3">
              <div><div class="font-semibold text-gray-700 mb-1">üìñ What This Measures</div><div class="text-gray-600">We do NOT know what happens when patients are discharged.</div></div>
              <div><div class="font-semibold text-gray-700 mb-1">üìä Benchmark</div><div class="text-gray-600">CRITICAL GAP: Cannot determine home/transfer/deceased. Required for accreditation.</div></div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-gray-100 border-t mt-8 py-4">
    <div class="max-w-7xl mx-auto px-4 text-center text-xs text-gray-500">
      <p>IOCN Quality Indicators Dashboard ‚Ä¢ Data Period: 2020-2025 ‚Ä¢ 97,271 cases analyzed</p>
      <p class="mt-1">LOS = Length of Stay | ICU = Intensive Care Unit | ATI = Anestezie »ôi Terapie IntensivƒÉ | MDT = Multidisciplinary Team</p>
    </div>
  </footer>

  <script>
    // Tab switching
    function showTab(tabName) {
      // Hide all content
      document.querySelectorAll('[id^="content-"]').forEach(function(el) { el.classList.add('hidden'); });
      // Show selected content
      document.getElementById('content-' + tabName).classList.remove('hidden');
      // Update tab styles
      document.querySelectorAll('[id^="tab-"]').forEach(function(el) {
        el.classList.remove('tab-active');
        el.classList.add('border-transparent', 'text-gray-500');
      });
      document.getElementById('tab-' + tabName).classList.add('tab-active');
      document.getElementById('tab-' + tabName).classList.remove('border-transparent', 'text-gray-500');
      
      // Initialize charts when showing charts tab
      if (tabName === 'charts') {
        initChartsTab();
      }
    }

    // Toggle expandable details
    function toggleDetails(element) {
      var details = element.querySelector('.details');
      var icon = element.querySelector('.text-gray-400');
      if (details.classList.contains('hidden')) {
        details.classList.remove('hidden');
        icon.textContent = '‚àí';
      } else {
        details.classList.add('hidden');
        icon.textContent = '+';
      }
    }

    // Chart data
    var cancerLabels = ['Breast', 'Cervical', 'Lung', 'Ovarian', 'Prostate', 'Rectal', 'Other'];
    var cancerValues = [23788, 5803, 5097, 3840, 3665, 2825, 52253];
    var cancerColors = ['#E91E63', '#9C27B0', '#2196F3', '#4CAF50', '#FF5722', '#795548', '#9E9E9E'];

    var monthlyLabels = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
    var monthlyValues = [7613, 8000, 8362, 8800, 7728, 7745, 8623, 7438, 7827, 9123, 8451, 7557];

    var gapLabels = ['<7 days', '7-21 days', '22-35 days', '36-60 days', '>60 days'];
    var gapValues = [30344, 21564, 13047, 3812, 8869];
    var gapColors = ['#22c55e', '#22c55e', '#eab308', '#f97316', '#ef4444'];

    // Initialize overview charts
    function initOverviewCharts() {
      // Cancer chart
      new Chart(document.getElementById('cancerChart'), {
        type: 'bar',
        data: {
          labels: cancerLabels,
          datasets: [{
            data: cancerValues,
            backgroundColor: cancerColors
          }]
        },
        options: {
          indexAxis: 'y',
          plugins: { legend: { display: false } },
          scales: { x: { beginAtZero: true } }
        }
      });

      // Monthly chart
      new Chart(document.getElementById('monthlyChart'), {
        type: 'line',
        data: {
          labels: monthlyLabels,
          datasets: [{
            label: 'Cases',
            data: monthlyValues,
            borderColor: '#10B981',
            backgroundColor: 'rgba(16, 185, 129, 0.1)',
            fill: true,
            tension: 0.3
          }]
        },
        options: {
          plugins: { legend: { display: false } },
          scales: { y: { beginAtZero: false, min: 6000 } }
        }
      });
    }

    // Initialize charts tab
    var chartsInitialized = false;
    function initChartsTab() {
      if (chartsInitialized) return;
      chartsInitialized = true;

      // Cancer chart 2
      new Chart(document.getElementById('cancerChart2'), {
        type: 'bar',
        data: {
          labels: cancerLabels,
          datasets: [{
            data: cancerValues,
            backgroundColor: cancerColors
          }]
        },
        options: {
          plugins: { legend: { display: false } },
          scales: { y: { beginAtZero: true } }
        }
      });

      // Gap chart
      new Chart(document.getElementById('gapChart'), {
        type: 'bar',
        data: {
          labels: gapLabels,
          datasets: [{
            data: gapValues,
            backgroundColor: gapColors
          }]
        },
        options: {
          plugins: { legend: { display: false } },
          scales: { y: { beginAtZero: true } }
        }
      });

      // Monthly chart 2
      new Chart(document.getElementById('monthlyChart2'), {
        type: 'line',
        data: {
          labels: monthlyLabels,
          datasets: [{
            label: 'Cases',
            data: monthlyValues,
            borderColor: '#3B82F6',
            backgroundColor: 'rgba(59, 130, 246, 0.1)',
            fill: true,
            tension: 0.3
          }]
        },
        options: {
          scales: { y: { beginAtZero: false, min: 6000 } }
        }
      });
    }

    // Initialize on page load
    document.addEventListener('DOMContentLoaded', initOverviewCharts);
  </script>
</body>
</html>
